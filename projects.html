<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>BuildCraft - Наши проекты</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/mobile.css" media="screen and (max-width: 768px)">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&family=Open+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="manifest" href="manifest.json">
    <style>
        /* Базовые стили */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Open Sans', sans-serif;
            line-height: 1.6;
            color: #333;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Стили для модальных окон проектов */
        .project-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            overflow-y: auto;
            -webkit-tap-highlight-color: transparent;
        }
        
        .modal-content {
            background-color: white;
            margin: 30px auto;
            width: 95%;
            max-width: 1200px;
            border-radius: 15px;
            position: relative;
            animation: modalFadeIn 0.4s ease-out;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }
        
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .close-modal {
            position: absolute;
            top: 20px;
            right: 25px;
            font-size: 32px;
            color: #333;
            cursor: pointer;
            z-index: 100;
            background: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            font-weight: 300;
            border: none;
            outline: none;
            user-select: none;
            -webkit-user-select: none;
        }
        
        .close-modal:hover {
            background: #ff6b35;
            color: white;
            transform: rotate(90deg);
        }
        
        .modal-header {
            padding: 35px 35px 20px;
            position: relative;
            background: linear-gradient(135deg, #1a2980 0%, #26d0ce 100%);
            color: white;
            border-radius: 15px 15px 0 0;
            user-select: none;
            -webkit-user-select: none;
        }
        
        .modal-header h2 {
            font-size: 32px;
            margin-bottom: 15px;
            font-weight: 700;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        }
        
        .modal-body {
            padding: 0 35px 35px;
            overflow-y: auto;
            max-height: calc(100vh - 200px);
        }
        
        /* Галерея изображений */
        .gallery-container {
            margin: 25px 0 40px;
            position: relative;
            user-select: none;
            -webkit-user-select: none;
        }
        
        .gallery-main-container {
            width: 100%;
            height: 500px;
            border-radius: 12px;
            margin-bottom: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
            background-color: #f8f9fa;
            cursor: grab;
            user-select: none;
            -webkit-user-select: none;
        }
        
        .gallery-main-container.dragging {
            cursor: grabbing;
        }
        
        .gallery-main {
            width: 100%;
            height: 100%;
            position: relative;
            transition: transform 0.2s ease-out;
            transform-origin: center center;
            user-select: none;
            -webkit-user-select: none;
        }
        
        .gallery-main img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: none;
            pointer-events: none;
            user-select: none;
            -webkit-user-select: none;
            -webkit-user-drag: none;
        }
        
        /* Стиль для защищенных изображений */
        .protected-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            display: none;
            user-select: none;
            -webkit-user-select: none;
            pointer-events: none;
        }
        
        .protected-image.active {
            display: block;
        }
        
        .gallery-main img.active {
            display: block;
        }
        
        /* Элементы управления зумом */
        .zoom-controls {
            position: absolute;
            bottom: 20px;
            left: 20px;
            display: flex;
            gap: 10px;
            z-index: 10;
            background: rgba(255, 255, 255, 0.95);
            padding: 10px;
            border-radius: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            user-select: none;
            -webkit-user-select: none;
        }
        
        .zoom-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #333;
            font-size: 18px;
            transition: all 0.3s ease;
            box-shadow: 0 3px 12px rgba(0,0,0,0.15);
            user-select: none;
            -webkit-user-select: none;
            outline: none;
        }
        
        .zoom-btn:hover {
            background: #ff6b35;
            color: white;
            transform: scale(1.1);
        }
        
        .zoom-btn:active {
            transform: scale(0.95);
        }
        
        .zoom-level {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 60px;
            font-weight: 600;
            color: #333;
            font-size: 14px;
            user-select: none;
            -webkit-user-select: none;
        }
        
        .gallery-thumbs-container {
            position: relative;
            padding: 0 40px;
            user-select: none;
            -webkit-user-select: none;
        }
        
        .gallery-thumbs {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding: 15px 5px;
            scrollbar-width: thin;
            scrollbar-color: #ff6b35 #f0f0f0;
            user-select: none;
            -webkit-user-select: none;
            -webkit-overflow-scrolling: touch;
        }
        
        .gallery-thumbs::-webkit-scrollbar {
            height: 6px;
        }
        
        .gallery-thumbs::-webkit-scrollbar-track {
            background: #f0f0f0;
            border-radius: 10px;
        }
        
        .gallery-thumbs::-webkit-scrollbar-thumb {
            background: #ff6b35;
            border-radius: 10px;
        }
        
        .gallery-thumb {
            width: 120px;
            height: 90px;
            background-size: cover;
            background-position: center;
            border-radius: 8px;
            cursor: pointer;
            opacity: 0.7;
            transition: all 0.3s ease;
            flex-shrink: 0;
            border: 3px solid transparent;
            position: relative;
            user-select: none;
            -webkit-user-select: none;
            -webkit-tap-highlight-color: transparent;
            pointer-events: auto;
        }
        
        .gallery-thumb::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.3);
            border-radius: 5px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .gallery-thumb:hover::after {
            opacity: 1;
        }
        
        .gallery-thumb.active,
        .gallery-thumb:hover {
            opacity: 1;
            border-color: #ff6b35;
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(255, 107, 53, 0.4);
        }
        
        .gallery-thumb.active::after {
            opacity: 0;
        }
        
        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            background: white;
            border: none;
            border-radius: 50%;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #333;
            font-size: 18px;
            transition: all 0.3s ease;
            z-index: 5;
            user-select: none;
            -webkit-user-select: none;
            outline: none;
        }
        
        .gallery-nav:hover {
            background: #ff6b35;
            color: white;
            transform: translateY(-50%) scale(1.1);
        }
        
        .gallery-nav.prev {
            left: 0;
        }
        
        .gallery-nav.next {
            right: 0;
        }
        
        .gallery-counter {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            z-index: 2;
            user-select: none;
            -webkit-user-select: none;
        }
        
        .project-details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
            margin: 35px 0;
        }
        
        .detail-section {
            background: #fff;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-left: 5px solid #ff6b35;
            transition: transform 0.3s ease;
            user-select: none;
            -webkit-user-select: none;
        }
        
        .detail-section:hover {
            transform: translateY(-5px);
        }
        
        .detail-section h4 {
            margin-top: 0;
            color: #1a2980;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .detail-section h4 i {
            color: #ff6b35;
            font-size: 20px;
        }
        
        .detail-section ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .detail-section li {
            padding: 8px 0;
            border-bottom: 1px dashed #e0e0e0;
            position: relative;
            padding-left: 25px;
        }
        
        .detail-section li:last-child {
            border-bottom: none;
        }
        
        .detail-section li:before {
            content: '✓';
            position: absolute;
            left: 0;
            color: #ff6b35;
            font-weight: bold;
        }
        
        .materials-table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            border-radius: 10px;
            overflow: hidden;
            user-select: none;
            -webkit-user-select: none;
        }
        
        .materials-table thead {
            background: linear-gradient(135deg, #1a2980 0%, #26d0ce 100%);
            color: white;
        }
        
        .materials-table th {
            padding: 18px 20px;
            text-align: left;
            font-weight: 600;
            font-size: 16px;
        }
        
        .materials-table td {
            padding: 16px 20px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .materials-table tbody tr {
            transition: background 0.3s ease;
        }
        
        .materials-table tbody tr:hover {
            background: #f9f9f9;
        }
        
        .materials-table tbody tr:nth-child(even) {
            background: #f8fafc;
        }
        
        .modal-actions {
            display: flex;
            gap: 20px;
            margin-top: 40px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 24px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            border: none;
            outline: none;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #ff6b35 0%, #ff8e53 100%);
            color: white;
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #1a2980 0%, #26d0ce 100%);
            color: white;
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid #ff6b35;
            color: #ff6b35;
        }
        
        /* Стили для кнопки Подробнее (оранжевая) */
        .btn-details {
            margin-top: 20px;
            background: linear-gradient(135deg, #ff6b35 0%, #ff8e53 100%);
            color: white;
            border: none;
            padding: 14px 32px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.4);
            position: relative;
            overflow: hidden;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            user-select: none;
            -webkit-user-select: none;
            outline: none;
        }
        
        .btn-details:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }
        
        .btn-details:hover:before {
            left: 100%;
        }
        
        .btn-details:hover {
            background: linear-gradient(135deg, #ff5722 0%, #ff8e53 100%);
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(255, 107, 53, 0.6);
        }
        
        .btn-details:active {
            transform: translateY(1px);
            box-shadow: 0 4px 15px rgba(255, 107, 53, 0.4);
        }
        
        .btn-details i {
            font-size: 18px;
            transition: transform 0.3s ease;
        }
        
        .btn-details:hover i {
            transform: translateX(5px);
        }
        
        /* Дополнительные стили */
        .project-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 15px 0 25px;
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            user-select: none;
            -webkit-user-select: none;
        }
        
        .project-meta span {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 15px;
        }
        
        .project-meta i {
            color: #26d0ce;
        }
        
        .project-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
            user-select: none;
            -webkit-user-select: none;
        }
        
        .project-feature {
            background: #f8fafc;
            padding: 12px 18px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14.5px;
            transition: all 0.3s ease;
        }
        
        .project-feature:hover {
            background: #e3f2fd;
            transform: translateX(5px);
        }
        
        .project-feature i {
            color: #ff6b35;
        }
        
        /* Секция теххарактеристик */
        .tech-specs {
            background: #f8fafc;
            padding: 30px;
            border-radius: 12px;
            margin: 30px 0;
            border-left: 5px solid #1a2980;
            user-select: none;
            -webkit-user-select: none;
        }
        
        .tech-specs h3 {
            color: #1a2980;
            margin-top: 0;
            margin-bottom: 25px;
            font-size: 24px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .tech-specs h3 i {
            color: #ff6b35;
        }
        
        .specs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
        }
        
        .spec-item {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
        }
        
        .spec-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .spec-value {
            font-size: 32px;
            font-weight: 700;
            color: #1a2980;
            margin-bottom: 8px;
        }
        
        .spec-label {
            font-size: 14px;
            color: #666;
            font-weight: 500;
        }
        
        /* Стили для проекта карточек */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }
        
        .project-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
        }
        
        .project-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        .project-image {
            height: 250px;
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        .project-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            color: white;
            padding: 20px;
        }
        
        .project-overlay h4 {
            margin-bottom: 5px;
            font-size: 20px;
        }
        
        .project-info {
            padding: 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .project-info h3 {
            margin-bottom: 15px;
            color: #1a2980;
            font-size: 24px;
        }
        
        .project-description {
            margin-bottom: 20px;
            color: #666;
            flex-grow: 1;
        }
        
        /* Адаптивные стили */
        @media (max-width: 768px) {
            .modal-content {
                width: 98%;
                margin: 15px auto;
            }
            
            .modal-header,
            .modal-body {
                padding: 20px 15px;
            }
            
            .modal-header h2 {
                font-size: 24px;
            }
            
            .project-details-grid {
                grid-template-columns: 1fr;
            }
            
            .gallery-main-container {
                height: 300px;
            }
            
            .gallery-thumb {
                width: 90px;
                height: 70px;
            }
            
            .gallery-nav {
                width: 35px;
                height: 35px;
                font-size: 16px;
            }
            
            .gallery-thumbs-container {
                padding: 0 30px;
            }
            
            .btn-details {
                padding: 12px 25px;
                font-size: 14px;
            }
            
            .modal-actions {
                flex-direction: column;
                gap: 12px;
            }
            
            .materials-table {
                display: block;
                overflow-x: auto;
            }
            
            .specs-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .spec-value {
                font-size: 24px;
            }
            
            .zoom-controls {
                bottom: 10px;
                left: 10px;
                padding: 8px;
            }
            
            .zoom-btn {
                width: 35px;
                height: 35px;
                font-size: 16px;
            }
            
            .zoom-level {
                width: 50px;
                font-size: 12px;
            }
            
            .projects-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Стили для тегов проектов */
        .project-tag {
            display: inline-block;
            background: rgba(255, 107, 53, 0.2);
            color: #ff6b35;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 10px;
            margin-right: 5px;
            border: 1px solid rgba(255, 107, 53, 0.3);
            user-select: none;
            -webkit-user-select: none;
        }
        
        /* Анимация загрузки для изображений */
        .loading-spinner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #ff6b35;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            z-index: 5;
            display: none;
        }
        
        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        /* Инструкция по зуму */
        .zoom-hint {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.95);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 12px;
            color: #333;
            z-index: 10;
            box-shadow: 0 3px 12px rgba(0,0,0,0.15);
            display: none;
            user-select: none;
            -webkit-user-select: none;
        }
        
        .zoom-hint i {
            color: #ff6b35;
            margin-right: 5px;
        }
        
        /* Стили для placeholder изображений */
        .placeholder-img {
            background: linear-gradient(45deg, #f5f5f5 25%, #e0e0e0 50%, #f5f5f5 75%);
            background-size: 200% 200%;
            animation: placeholder 1.5s infinite;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #888;
            font-weight: 500;
            user-select: none;
            -webkit-user-select: none;
        }
        
        @keyframes placeholder {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        /* Защитный слой поверх изображений */
        .image-protector {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 100;
            background: transparent;
            cursor: default;
        }
        
        /* Стили для уведомлений */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #ff6b35;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            z-index: 99999;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            animation: slideIn 0.3s ease;
        }
        
        .toast.warning {
            background: #ff6b35;
        }
        
        .toast.info {
            background: #26d0ce;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        
        /* Стили для заголовков */
        .section-title {
            font-size: 36px;
            color: #1a2980;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .section-subtitle {
            font-size: 18px;
            color: #666;
            text-align: center;
            margin-bottom: 40px;
        }
        
        /* Фильтры проектов */
        .projects-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 30px 0;
            justify-content: center;
        }
        
        .filter-btn {
            padding: 10px 20px;
            background: #f0f0f0;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .filter-btn.active,
        .filter-btn:hover {
            background: #ff6b35;
            color: white;
        }
        
        /* Статистика */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }
        
        .project-stat {
            text-align: center;
            padding: 30px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .stat-number {
            font-size: 48px;
            font-weight: 700;
            color: #ff6b35;
            margin-bottom: 10px;
        }
        
        .stat-label {
            font-size: 16px;
            color: #666;
        }
        
        /* CTA секция */
        .projects-cta {
            background: linear-gradient(135deg, #1a2980 0%, #26d0ce 100%);
            color: white;
            padding: 50px;
            border-radius: 20px;
            text-align: center;
            margin: 60px 0;
        }
        
        .cta-content h3 {
            font-size: 32px;
            margin-bottom: 20px;
        }
        
        .cta-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>
    <!-- Шапка сайта -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo-container">
                    <a href="index.html" class="logo">
                        <div class="logo-icon">
                            <i class="fas fa-hard-hat"></i>
                        </div>
                        <span class="logo-text">Build<span class="logo-highlight">Craft</span></span>
                    </a>
                </div>
                
                <div class="header-actions">
                    <nav class="main-nav">
                        <ul class="nav-list">
                            <li><a href="index.html" class="nav-link"><i class="fas fa-home"></i> <span>Главная</span></a></li>
                            <li><a href="about.html" class="nav-link"><i class="fas fa-info-circle"></i> <span>О нас</span></a></li>
                            <li><a href="catalog.html" class="nav-link"><i class="fas fa-th-list"></i> <span>Каталог</span></a></li>
                            <li><a href="projects.html" class="nav-link active"><i class="fas fa-project-diagram"></i> <span>Наши проекты</span></a></li>
                            <li><a href="services.html" class="nav-link"><i class="fas fa-tools"></i> <span>Услуги</span></a></li>
                            <li><a href="contact.html" class="nav-link"><i class="fas fa-address-book"></i> <span>Контакты</span></a></li>
                        </ul>
                    </nav>
                    
                    <a href="cart.html" class="cart-link">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-text">Корзина</span>
                        <span class="cart-count" id="cartCount">0</span>
                    </a>
                    
                    <button class="mobile-menu-btn" id="mobileMenuBtn">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Основное содержимое -->
    <main class="main-content">
        <div class="container">
            <div class="projects-header">
                <h2 class="section-title">Наши проекты</h2>
                <p class="section-subtitle">Реализованные строительные и ремонтные проекты с использованием наших материалов</p>
            </div>
            
            <div class="projects-intro">
                <p>За 12 лет работы мы участвовали в сотнях строительных проектов - от небольших ремонтов до масштабных строительных объектов. Ниже представлены некоторые из наших ключевых проектов, включая индивидуальное жилищное строительство.</p>
            </div>
            
            <!-- Фильтры проектов -->
            <div class="projects-filters">
                <button class="filter-btn active" data-filter="all">Все проекты</button>
                <button class="filter-btn" data-filter="residential">Жилые объекты</button>
                <button class="filter-btn" data-filter="commercial">Коммерческие объекты</button>
                <button class="filter-btn" data-filter="individual">Индивидуальные проекты</button>
                <button class="filter-btn" data-filter="restoration">Реставрация</button>
            </div>
            
            <div class="projects-grid">
                <!-- Проект 1: Индивидуальный жилой дом из PDF -->
                <div class="project-card" data-category="individual residential">
                    <div class="project-image" style="background-image: url('img/projects/individual-house/cover.jpg');">
                        <div class="project-overlay">
                            <h4>Индивидуальный жилой дом</h4>
                            <p>Московская область, 2023</p>
                            <span class="project-tag">Индивидуальный проект</span>
                            <span class="project-tag">29 чертежей</span>
                        </div>
                    </div>
                    <div class="project-info">
                        <h3>Индивидуальный жилой дом</h3>
                        <div class="project-meta">
                            <span><i class="fas fa-map-marker-alt"></i> Московская область</span>
                            <span><i class="fas fa-calendar-alt"></i> 2023</span>
                            <span><i class="fas fa-ruler-combined"></i> 142,85 м²</span>
                        </div>
                        <p class="project-description">Полный цикл строительства одноэтажного дома с мансардой по индивидуальному архитектурно-строительному проекту. Проект включает 29 подробных чертежей и схем.</p>
                        <div class="project-features">
                            <span class="project-feature"><i class="fas fa-check"></i> Монолитный ж/б фундамент</span>
                            <span class="project-feature"><i class="fas fa-check"></i> Газосиликатные блоки</span>
                            <span class="project-feature"><i class="fas fa-check"></i> Металлочерепичная кровля</span>
                            <span class="project-feature"><i class="fas fa-check"></i> Полный комплект инженерных систем</span>
                        </div>
                        <button class="btn-details" data-modal="modal-project-1">
                            <i class="fas fa-search-plus"></i> Подробнее о проекте
                        </button>
                    </div>
                </div>
                
                <!-- Проект 2: ЖК "Солнечный" -->
                <div class="project-card" data-category="residential">
                    <div class="project-image" style="background-image: url('https://via.placeholder.com/350x250/26d0ce/ffffff?text=ЖК+Солнечный');">
                        <div class="project-overlay">
                            <h4>Жилой комплекс "Солнечный"</h4>
                            <p>Москва, 2022-2023</p>
                            <span class="project-tag">Многоквартирный дом</span>
                        </div>
                    </div>
                    <div class="project-info">
                        <h3>ЖК "Солнечный"</h3>
                        <div class="project-meta">
                            <span><i class="fas fa-map-marker-alt"></i> Москва, ул. Солнечная</span>
                            <span><i class="fas fa-calendar-alt"></i> 2022-2023</span>
                            <span><i class="fas fa-building"></i> 12 этажей</span>
                        </div>
                        <p class="project-description">Поставка строительных материалов для возведения 12-этажного жилого комплекса. Общая площадь - 25 000 м².</p>
                        <div class="project-features">
                            <span class="project-feature"><i class="fas fa-check"></i> 5000 тонн цемента</span>
                            <span class="project-feature"><i class="fas fa-check"></i> 1.2 млн кирпичей</span>
                            <span class="project-feature"><i class="fas fa-check"></i> 8000 м³ ЖБИ</span>
                            <span class="project-feature"><i class="fas fa-check"></i> Современные системы вентиляции</span>
                        </div>
                        <button class="btn-details" data-modal="modal-project-2">
                            <i class="fas fa-search-plus"></i> Подробнее о проекте
                        </button>
                    </div>
                </div>
                
                <!-- Проект 3: ТЦ "Стройград" -->
                <div class="project-card" data-category="commercial">
                    <div class="project-image" style="background-image: url('https://via.placeholder.com/350x250/ff6b35/ffffff?text=ТЦ+Стройград');">
                        <div class="project-overlay">
                            <h4>Торговый центр "Стройград"</h4>
                            <p>Московская область, 2021-2022</p>
                            <span class="project-tag">Коммерческая недвижимость</span>
                        </div>
                    </div>
                    <div class="project-info">
                        <h3>ТЦ "Стройград"</h3>
                        <div class="project-meta">
                            <span><i class="fas fa-map-marker-alt"></i> Московская область, г. Балашиха</span>
                            <span><i class="fas fa-calendar-alt"></i> 2021-2022</span>
                            <span><i class="fas fa-store"></i> 150 магазинов</span>
                        </div>
                        <p class="project-description">Полное обеспечение строительными и отделочными материалами для современного торгового центра.</p>
                        <div class="project-features">
                            <span class="project-feature"><i class="fas fa-check"></i> Отделочные материалы</span>
                            <span class="project-feature"><i class="fas fa-check"></i> Системы вентиляции</span>
                            <span class="project-feature"><i class="fas fa-check"></i> Напольные покрытия 15 000 м²</span>
                            <span class="project-feature"><i class="fas fa-check"></i> Осветительные системы</span>
                        </div>
                        <button class="btn-details" data-modal="modal-project-3">
                            <i class="fas fa-search-plus"></i> Подробнее о проекте
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="projects-stats">
                <h3 class="section-title">Наша статистика</h3>
                <p class="section-subtitle">Цифры, которые говорят о нашем опыте и надежности</p>
                <div class="stats-grid">
                    <div class="project-stat">
                        <div class="stat-number">150+</div>
                        <div class="stat-label">Завершенных проектов</div>
                    </div>
                    <div class="project-stat">
                        <div class="stat-number">500 000+</div>
                        <div class="stat-label">м² построенной площади</div>
                    </div>
                    <div class="project-stat">
                        <div class="stat-number">45</div>
                        <div class="stat-label">Постоянных партнеров-застройщиков</div>
                    </div>
                    <div class="project-stat">
                        <div class="stat-number">98%</div>
                        <div class="stat-label">Проектов завершено в срок</div>
                    </div>
                </div>
            </div>
            
            <div class="projects-cta">
                <div class="cta-content">
                    <h3>Хотите реализовать свой строительный проект?</h3>
                    <p>Свяжитесь с нами для обсуждения сотрудничества и получения коммерческого предложения.</p>
                    <div class="cta-buttons">
                        <a href="contact.html" class="btn btn-primary">
                            <i class="fas fa-phone-alt"></i> Связаться с нами
                        </a>
                        <a href="catalog.html" class="btn btn-secondary">
                            <i class="fas fa-th-list"></i> Посмотреть каталог
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Модальные окна для проектов -->

    <!-- Модальное окно для проекта 1: Индивидуальный дом (30 изображений с защитой) -->
    <div id="modal-project-1" class="project-modal">
        <div class="modal-content">
            <div class="close-modal">&times;</div>
            <div class="modal-header">
                <h2>Индивидуальный жилой дом</h2>
                <div class="project-meta">
                    <span><i class="fas fa-map-marker-alt"></i> Московская область</span>
                    <span><i class="fas fa-calendar-alt"></i> 2023</span>
                    <span><i class="fas fa-ruler-combined"></i> 142,85 м²</span>
                    <span><i class="fas fa-cube"></i> 574 м³ строительный объем</span>
                    <span><i class="fas fa-images"></i> 30 изображений проекта</span>
                </div>
            </div>
            <div class="modal-body">
                <!-- Галерея изображений с защитой -->
                <div class="gallery-container">
                    <div class="zoom-hint" id="zoom-hint-1">
                        <i class="fas fa-info-circle"></i> Зажмите Ctrl и используйте колесико мыши для масштабирования
                    </div>
                    <div class="gallery-main-container" id="gallery-main-container-1">
                        <div class="loading-spinner" id="loading-spinner-1"></div>
                        <div class="gallery-main" id="gallery-main-1">
                            <!-- Защищенные изображения будут добавлены через JavaScript -->
                        </div>
                        <div class="gallery-counter">1 / 30</div>
                        <div class="zoom-controls">
                            <button class="zoom-btn" id="zoom-out-1" title="Уменьшить">
                                <i class="fas fa-search-minus"></i>
                            </button>
                            <div class="zoom-level" id="zoom-level-1">100%</div>
                            <button class="zoom-btn" id="zoom-in-1" title="Приблизить">
                                <i class="fas fa-search-plus"></i>
                            </button>
                            <button class="zoom-btn" id="zoom-reset-1" title="Сбросить масштаб">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="gallery-thumbs-container">
                        <button class="gallery-nav prev"><i class="fas fa-chevron-left"></i></button>
                        <div class="gallery-thumbs" id="gallery-thumbs-1">
                            <!-- 30 миниатюр для проекта -->
                            <!-- Изображения будут добавлены через JavaScript -->
                        </div>
                        <button class="gallery-nav next"><i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>
                
                <div class="tech-specs">
                    <h3><i class="fas fa-file-pdf"></i> Технические характеристики проекта из PDF</h3>
                    <div class="specs-grid">
                        <div class="spec-item">
                            <div class="spec-value">142,85 м²</div>
                            <div class="spec-label">Общая площадь</div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-value">574 м³</div>
                            <div class="spec-label">Строительный объем</div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-value">6,6 м</div>
                            <div class="spec-label">Высота здания</div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-value">176,11 м²</div>
                            <div class="spec-label">Площадь застройки</div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-value">1 этаж</div>
                            <div class="spec-label">Этажность</div>
                        </div>
                        <div class="spec-item">
                            <div class="spec-value">228,83 м²</div>
                            <div class="spec-label">Площадь кровли</div>
                        </div>
                    </div>
                </div>
                
                <h3>Описание проекта</h3>
                <p>Полный цикл строительства одноэтажного дома с мансардой по индивидуальному архитектурно-строительному проекту. Проект разработан с учетом всех современных строительных норм и требований к комфортному проживанию. Включает 30 изображений проекта: обложку и 29 подробных чертежей и схем.</p>
                
                <div class="project-details-grid">
                    <div class="detail-section">
                        <h4><i class="fas fa-drafting-compass"></i> Архитектурные решения</h4>
                        <ul>
                            <li>Наружные стены: ГСБ 625x375x250 с отделкой штукатуркой</li>
                            <li>Внутренние несущие стены: ГСБ толщиной 250 мм</li>
                            <li>Перегородки: ГСБ толщиной 150 и 200 мм</li>
                            <li>Вентиляционные шахты: кирпич керамический</li>
                            <li>Отделка помещений: в проекте не предусмотрена</li>
                            <li>Проект разработан для производства работ в летнее время</li>
                        </ul>
                    </div>
                    
                    <div class="detail-section">
                        <h4><i class="fas fa-cube"></i> Конструктивные решения</h4>
                        <ul>
                            <li>Фундамент: монолитная ж/б плита с ребрами вверх</li>
                            <li>Цоколь: с утеплением ЭППС 50 мм</li>
                            <li>Междуэтажные перекрытия: деревянные</li>
                            <li>Перемычки: металлические уголки, ж/б заводского изготовления</li>
                            <li>Крыша: вальцовая холодная, покрытие - металлочерепица</li>
                            <li>Монолитный ж/б пояс на отметке +2830</li>
                        </ul>
                    </div>
                    
                    <div class="detail-section">
                        <h4><i class="fas fa-tools"></i> Инженерные системы</h4>
                        <ul>
                            <li>Холодное водоснабжение: от центрального водопровода</li>
                            <li>Горячее водоснабжение: от внутреннего газового котла</li>
                            <li>Отопление: водяное от внутреннего газового котла</li>
                            <li>Водоотведение: в герметичный выгреб</li>
                            <li>Электроснабжение: от городских электросетей</li>
                            <li>Газоснабжение: от центральных сетей газоснабжения</li>
                        </ul>
                    </div>
                </div>
                
                <h3>Основные материалы проекта</h3>
                <table class="materials-table">
                    <thead>
                        <tr>
                            <th>Материал</th>
                            <th>Количество</th>
                            <th>Примечание</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Газосиликатные блоки 625x400x250</td>
                            <td>48,28 м³</td>
                            <td>D500, марка прочности B3.5</td>
                        </tr>
                        <tr>
                            <td>Металлочерепица</td>
                            <td>228,83 м²</td>
                            <td>Толщина 0,5 мм, полимерное покрытие</td>
                        </tr>
                        <tr>
                            <td>Деревянные балки перекрытия</td>
                            <td>133 м³</td>
                            <td>Хвойные породы, 1 сорт</td>
                        </tr>
                        <tr>
                            <td>Арматура Ø10 А400С</td>
                            <td>1300 мм</td>
                            <td>Для монолитного пояса</td>
                        </tr>
                        <tr>
                            <td>Ж/б перемычки 3ПБ16-37</td>
                            <td>14 шт</td>
                            <td>Для оконных и дверных проемов</td>
                        </tr>
                        <tr>
                            <td>Цемент М500</td>
                            <td>8,5 тонн</td>
                            <td>Для кладочного раствора</td>
                        </tr>
                        <tr>
                            <td>Кирпич керамический</td>
                            <td>2,4 м³</td>
                            <td>Для вентиляционных шахт</td>
                        </tr>
                        <tr>
                            <td>Утеплитель ЭППС</td>
                            <td>7,5 м³</td>
                            <td>Для цоколя и фундамента</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="project-features">
                    <span class="project-feature"><i class="fas fa-star"></i> Монолитный ж/б пояс по всем стенам здания</span>
                    <span class="project-feature"><i class="fas fa-star"></i> Утепление цоколя ЭППС 50 мм</span>
                    <span class="project-feature"><i class="fas fa-star"></i> Армирование кладки согласно нормам</span>
                    <span class="project-feature"><i class="fas fa-star"></i> Вентиляционные шахты из керамического кирпича</span>
                    <span class="project-feature"><i class="fas fa-star"></i> Обработка деревянных элементов огнебиозащитой</span>
                    <span class="project-feature"><i class="fas fa-star"></i> Стропильная система из древесины хвойных пород</span>
                </div>
                
                <div class="modal-actions">
                    <a href="contact.html" class="btn btn-primary">
                        <i class="fas fa-file-contract"></i> Заказать похожий проект
                    </a>
                    <a href="catalog.html" class="btn btn-secondary">
                        <i class="fas fa-shopping-cart"></i> Посмотреть материалы
                    </a>
                    <button class="btn btn-outline close-modal-btn">
                        <i class="fas fa-times"></i> Закрыть
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальное окно для проекта 2 -->
    <div id="modal-project-2" class="project-modal">
        <div class="modal-content">
            <div class="close-modal">&times;</div>
            <div class="modal-header">
                <h2>Жилой комплекс "Солнечный"</h2>
                <div class="project-meta">
                    <span><i class="fas fa-map-marker-alt"></i> Москва, ул. Солнечная</span>
                    <span><i class="fas fa-calendar-alt"></i> 2022-2023</span>
                    <span><i class="fas fa-building"></i> 12 этажей</span>
                    <span><i class="fas fa-ruler-combined"></i> 25 000 м²</span>
                </div>
            </div>
            <div class="modal-body">
                <p>Проект реализован в срок с соблюдением всех строительных норм и требований к современному жилью. Комплекс включает 250 квартир различной площади, подземный паркинг, детскую площадку и зоны отдыха.</p>
                
                <div class="project-details-grid">
                    <div class="detail-section">
                        <h4><i class="fas fa-box"></i> Поставленные материалы</h4>
                        <ul>
                            <li>Цемент: 5000 тонн</li>
                            <li>Кирпич: 1.2 млн штук</li>
                            <li>Железобетонные изделия: 8000 м³</li>
                            <li>Металлопрокат: 450 тонн</li>
                            <li>Окна ПВХ: 1250 комплектов</li>
                        </ul>
                    </div>
                    
                    <div class="detail-section">
                        <h4><i class="fas fa-check-circle"></i> Особенности</h4>
                        <ul>
                            <li>Современные системы вентиляции</li>
                            <li>Энергоэффективные решения</li>
                            <li>Шумоизоляция повышенного класса</li>
                            <li>Противопожарные системы</li>
                            <li>Лифты премиум-класса</li>
                        </ul>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <a href="contact.html" class="btn btn-primary">
                        <i class="fas fa-phone-alt"></i> Обсудить сотрудничество
                    </a>
                    <button class="btn btn-outline close-modal-btn">
                        <i class="fas fa-times"></i> Закрыть
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальное окно для проекта 3 -->
    <div id="modal-project-3" class="project-modal">
        <div class="modal-content">
            <div class="close-modal">&times;</div>
            <div class="modal-header">
                <h2>Торговый центр "Стройград"</h2>
                <div class="project-meta">
                    <span><i class="fas fa-map-marker-alt"></i> Московская область, г. Балашиха</span>
                    <span><i class="fas fa-calendar-alt"></i> 2021-2022</span>
                    <span><i class="fas fa-store"></i> 150 магазинов</span>
                    <span><i class="fas fa-ruler-combined"></i> 35 000 м²</span>
                </div>
            </div>
            <div class="modal-body">
                <p>Современный торговый центр с комплексным обеспечением строительными и отделочными материалами. Проект включал поставки для всех этапов строительства - от черновых до финишных работ.</p>
                
                <div class="project-details-grid">
                    <div class="detail-section">
                        <h4><i class="fas fa-tools"></i> Поставленные материалы</h4>
                        <ul>
                            <li>Отделочные материалы: 15 000 м²</li>
                            <li>Системы вентиляции: 45 комплектов</li>
                            <li>Напольные покрытия: 35 000 м²</li>
                            <li>Осветительные системы: 5 000 светильников</li>
                        </ul>
                    </div>
                    
                    <div class="detail-section">
                        <h4><i class="fas fa-check-circle"></i> Особенности</h4>
                        <ul>
                            <li>Энергоэффективные системы освещения</li>
                            <li>Современные системы климат-контроля</li>
                            <li>Автоматизированная система управления</li>
                            <li>Паркинг на 500 автомобилей</li>
                        </ul>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <a href="contact.html" class="btn btn-primary">
                        <i class="fas fa-phone-alt"></i> Обсудить сотрудничество
                    </a>
                    <button class="btn btn-outline close-modal-btn">
                        <i class="fas fa-times"></i> Закрыть
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Подвал сайта -->
    <footer class="footer">
        <div class="container">
            <div class="footer-info">
                <p>&copy; 2010-2023 BuildCraft. Все права защищены.</p>
                <p><a href="#">Политика конфиденциальности</a> | <a href="#">Пользовательское соглашение</a></p>
            </div>
        </div>
    </footer>

    <script>
        // Основной JavaScript код
        
        // Переменные для управления состоянием
        let currentModal = null;
        let isCtrlPressed = false;
        let currentGallery = null;
        
        // Массив с путями к 30 изображениям (cover.jpg + 29 изображений individual-house-1.jpg до 29.jpg)
        const projectImages = [
            // cover.jpg как первое изображение
            'img/projects/individual-house/cover.jpg',
            // Затем 29 изображений от individual-house-1.jpg до individual-house-29.jpg
            'img/projects/individual-house/individual-house-1.jpg',
            'img/projects/individual-house/individual-house-2.jpg',
            'img/projects/individual-house/individual-house-3.jpg',
            'img/projects/individual-house/individual-house-4.jpg',
            'img/projects/individual-house/individual-house-5.jpg',
            'img/projects/individual-house/individual-house-6.jpg',
            'img/projects/individual-house/individual-house-7.jpg',
            'img/projects/individual-house/individual-house-8.jpg',
            'img/projects/individual-house/individual-house-9.jpg',
            'img/projects/individual-house/individual-house-10.jpg',
            'img/projects/individual-house/individual-house-11.jpg',
            'img/projects/individual-house/individual-house-12.jpg',
            'img/projects/individual-house/individual-house-13.jpg',
            'img/projects/individual-house/individual-house-14.jpg',
            'img/projects/individual-house/individual-house-15.jpg',
            'img/projects/individual-house/individual-house-16.jpg',
            'img/projects/individual-house/individual-house-17.jpg',
            'img/projects/individual-house/individual-house-18.jpg',
            'img/projects/individual-house/individual-house-19.jpg',
            'img/projects/individual-house/individual-house-20.jpg',
            'img/projects/individual-house/individual-house-21.jpg',
            'img/projects/individual-house/individual-house-22.jpg',
            'img/projects/individual-house/individual-house-23.jpg',
            'img/projects/individual-house/individual-house-24.jpg',
            'img/projects/individual-house/individual-house-25.jpg',
            'img/projects/individual-house/individual-house-26.jpg',
            'img/projects/individual-house/individual-house-27.jpg',
            'img/projects/individual-house/individual-house-28.jpg',
            'img/projects/individual-house/individual-house-29.jpg'
        ];
        
        // Описания для 30 изображений
        const imageDescriptions = [
            'Обложка проекта',
            'План 1-го этажа', 'Фасад 1-3', 'Фасад 3-1', 'Фасад А-Г',
            'Фасад Г-А', 'План кровли', 'Разрез 1-1', 'Разрез 2-2', 'Схема фундамента',
            'Сечения фундамента', 'Кладочный план 1-го этажа', 'Ведомость проемов',
            'Схема расположения элементов перекрытия', 'Спецификация перемычек',
            'Схема расположения монолитного пояса', 'Схема вентиляции',
            'Схема расположения балок перекрытия', 'Схема расположения элементов стропильной конструкции',
            'Узлы 1, 2, 3', 'Стропила 3D', 'План этажа 1', 'План этажа 2',
            'Схема водоснабжения', 'Схема отопления', 'Схема электроснабжения',
            'Схема вентиляции детальная', 'План размещения оборудования',
            'Схема дренажа', 'Схема ливневой канализации'
        ];
        
        // Функция для показа уведомлений
        function showToast(message, type = 'info') {
            // Удаляем старые уведомления
            const oldToasts = document.querySelectorAll('.toast');
            oldToasts.forEach(toast => {
                toast.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => toast.remove(), 300);
            });
            
            // Создаем новое уведомление
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.textContent = message;
            document.body.appendChild(toast);
            
            // Автоматически удаляем через 3 секунды
            setTimeout(() => {
                toast.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }
        
        // Функция для предварительной загрузки изображения
        function preloadImage(src) {
            return new Promise((resolve, reject) => {
                const img = new Image();
                img.onload = () => resolve(src);
                img.onerror = () => {
                    console.error(`Не удалось загрузить изображение: ${src}`);
                    // Используем placeholder в случае ошибки
                    resolve('https://via.placeholder.com/800x600/f8f9fa/333333?text=Изображение+не+загружено');
                };
                img.src = src;
            });
        }
        
        // Функция для открытия модального окна
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (!modal) return;
            
            // Закрываем предыдущее модальное окно
            if (currentModal) {
                closeModal(currentModal);
            }
            
            // Открываем новое
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            currentModal = modalId;
            
            // Инициализируем галерею для первого проекта
            if (modalId === 'modal-project-1') {
                initGallery();
            }
        }
        
        // Функция для закрытия модального окна
        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (!modal) return;
            
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
            currentModal = null;
            currentGallery = null;
        }
        
        // Функция для закрытия всех модальных окон
        function closeAllModals() {
            document.querySelectorAll('.project-modal').forEach(modal => {
                modal.style.display = 'none';
            });
            document.body.style.overflow = 'auto';
            currentModal = null;
            currentGallery = null;
        }
        
        // Функция для инициализации галереи
        function initGallery() {
            const galleryContainer = document.getElementById('gallery-main-container-1');
            const galleryMain = document.getElementById('gallery-main-1');
            const galleryThumbs = document.getElementById('gallery-thumbs-1');
            const loadingSpinner = document.getElementById('loading-spinner-1');
            const zoomHint = document.getElementById('zoom-hint-1');
            const galleryCounter = galleryContainer.querySelector('.gallery-counter');
            
            if (!galleryContainer || !galleryMain || !galleryThumbs) return;
            
            // Очищаем галерею
            galleryMain.innerHTML = '';
            galleryThumbs.innerHTML = '';
            
            // Показываем спиннер загрузки
            loadingSpinner.style.display = 'block';
            
            // Объект для управления галереей
            currentGallery = {
                currentIndex: 0,
                zoomLevel: 1,
                isDragging: false,
                startX: 0,
                startY: 0,
                translateX: 0,
                translateY: 0,
                element: null
            };
            
            // Создаем изображения
            const loadPromises = [];
            
            for (let i = 0; i < projectImages.length; i++) {
                const imagePath = projectImages[i];
                const description = imageDescriptions[i] || `Изображение ${i + 1}`;
                
                // Создаем основное изображение
                const mainImg = document.createElement('div');
                mainImg.className = 'protected-image';
                mainImg.id = `main-img-${i}`;
                mainImg.setAttribute('data-index', i);
                mainImg.setAttribute('data-src', imagePath);
                mainImg.setAttribute('title', description);
                galleryMain.appendChild(mainImg);
                
                // Создаем миниатюру
                const thumb = document.createElement('div');
                thumb.className = 'gallery-thumb';
                thumb.setAttribute('data-index', i);
                thumb.title = description;
                
                // Устанавливаем placeholder фон для миниатюры
                thumb.style.backgroundImage = 'linear-gradient(45deg, #f5f5f5 25%, #e0e0e0 50%, #f5f5f5 75%)';
                
                // Загружаем изображение для миниатюры
                const loadPromise = preloadImage(imagePath).then(src => {
                    thumb.style.backgroundImage = `url('${src}')`;
                    mainImg.style.backgroundImage = `url('${src}')`;
                });
                
                loadPromises.push(loadPromise);
                
                // Обработчик клика на миниатюру
                thumb.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    showImage(index);
                });
                
                galleryThumbs.appendChild(thumb);
            }
            
            // После загрузки всех изображений скрываем спиннер
            Promise.all(loadPromises).then(() => {
                loadingSpinner.style.display = 'none';
                // Показываем первое изображение (cover.jpg)
                showImage(0);
            }).catch(error => {
                console.error('Ошибка загрузки изображений:', error);
                loadingSpinner.style.display = 'none';
                showToast('Не удалось загрузить некоторые изображения', 'warning');
                showImage(0);
            });
            
            // Функция для показа изображения
            function showImage(index) {
                if (index < 0 || index >= projectImages.length) return;
                
                currentGallery.currentIndex = index;
                
                // Обновляем активную миниатюру
                document.querySelectorAll('#gallery-thumbs-1 .gallery-thumb').forEach((thumb, i) => {
                    thumb.classList.toggle('active', i === index);
                });
                
                // Обновляем основное изображение
                document.querySelectorAll('#gallery-main-1 .protected-image').forEach((img, i) => {
                    img.classList.toggle('active', i === index);
                });
                
                // Обновляем счетчик
                galleryCounter.textContent = `${index + 1} / ${projectImages.length}`;
                
                // Сбрасываем зум
                resetZoom();
            }
            
            // Функции для зума
            function updateZoom() {
                document.getElementById('zoom-level-1').textContent = `${Math.round(currentGallery.zoomLevel * 100)}%`;
                
                const activeImage = document.querySelector('#gallery-main-1 .protected-image.active');
                if (activeImage) {
                    activeImage.style.transform = `scale(${currentGallery.zoomLevel}) translate(${currentGallery.translateX}px, ${currentGallery.translateY}px)`;
                }
                
                // Показываем подсказку при зуме > 100%
                zoomHint.style.display = currentGallery.zoomLevel > 1 ? 'block' : 'none';
                
                // Сбрасываем позицию при уменьшении до 100%
                if (currentGallery.zoomLevel <= 1) {
                    currentGallery.translateX = 0;
                    currentGallery.translateY = 0;
                    if (activeImage) {
                        activeImage.style.transform = `scale(${currentGallery.zoomLevel})`;
                    }
                }
            }
            
            function zoomIn() {
                if (currentGallery.zoomLevel < 3) {
                    currentGallery.zoomLevel += 0.25;
                    updateZoom();
                }
            }
            
            function zoomOut() {
                if (currentGallery.zoomLevel > 0.5) {
                    currentGallery.zoomLevel -= 0.25;
                    updateZoom();
                }
            }
            
            function resetZoom() {
                currentGallery.zoomLevel = 1;
                currentGallery.translateX = 0;
                currentGallery.translateY = 0;
                updateZoom();
            }
            
            // Обработчики для кнопок зума
            document.getElementById('zoom-in-1').addEventListener('click', zoomIn);
            document.getElementById('zoom-out-1').addEventListener('click', zoomOut);
            document.getElementById('zoom-reset-1').addEventListener('click', resetZoom);
            
            // Обработчики для навигации
            const prevButton = document.querySelector('#gallery-thumbs-1').parentElement.querySelector('.gallery-nav.prev');
            const nextButton = document.querySelector('#gallery-thumbs-1').parentElement.querySelector('.gallery-nav.next');
            
            prevButton.addEventListener('click', () => {
                if (currentGallery.currentIndex > 0) {
                    showImage(currentGallery.currentIndex - 1);
                }
            });
            
            nextButton.addEventListener('click', () => {
                if (currentGallery.currentIndex < projectImages.length - 1) {
                    showImage(currentGallery.currentIndex + 1);
                }
            });
            
            // Обработчики для перетаскивания
            galleryContainer.addEventListener('mousedown', (e) => {
                if (currentGallery.zoomLevel > 1) {
                    currentGallery.isDragging = true;
                    currentGallery.startX = e.clientX - currentGallery.translateX;
                    currentGallery.startY = e.clientY - currentGallery.translateY;
                    galleryContainer.classList.add('dragging');
                    e.preventDefault();
                }
            });
            
            galleryContainer.addEventListener('mousemove', (e) => {
                if (!currentGallery.isDragging) return;
                
                const x = e.clientX - currentGallery.startX;
                const y = e.clientY - currentGallery.startY;
                
                // Ограничиваем перемещение
                const maxTranslate = (currentGallery.zoomLevel - 1) * 100;
                currentGallery.translateX = Math.max(Math.min(x, maxTranslate), -maxTranslate);
                currentGallery.translateY = Math.max(Math.min(y, maxTranslate), -maxTranslate);
                
                updateZoom();
                e.preventDefault();
            });
            
            galleryContainer.addEventListener('mouseup', () => {
                currentGallery.isDragging = false;
                galleryContainer.classList.remove('dragging');
            });
            
            galleryContainer.addEventListener('mouseleave', () => {
                currentGallery.isDragging = false;
                galleryContainer.classList.remove('dragging');
            });
            
            // Обработчики для колесика мыши
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey) isCtrlPressed = true;
            });
            
            document.addEventListener('keyup', (e) => {
                if (!e.ctrlKey) isCtrlPressed = false;
            });
            
            galleryContainer.addEventListener('wheel', (e) => {
                if (isCtrlPressed) {
                    e.preventDefault();
                    if (e.deltaY < 0) {
                        zoomIn();
                    } else {
                        zoomOut();
                    }
                }
            }, { passive: false });
            
            // Показываем первое изображение (cover.jpg)
            showImage(0);
            
            // Скрываем подсказку через 5 секунд
            setTimeout(() => {
                zoomHint.style.display = 'none';
            }, 5000);
        }
        
        // Инициализация при загрузке страницы
        document.addEventListener('DOMContentLoaded', function() {
            // Инициализация фильтров проектов
            const filterButtons = document.querySelectorAll('.filter-btn');
            const projectCards = document.querySelectorAll('.project-card');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Удаляем активный класс у всех кнопок
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    // Добавляем активный класс текущей кнопке
                    this.classList.add('active');
                    
                    const filterValue = this.getAttribute('data-filter');
                    
                    // Фильтруем проекты
                    projectCards.forEach(card => {
                        if (filterValue === 'all') {
                            card.style.display = 'flex';
                        } else {
                            const categories = card.getAttribute('data-category');
                            if (categories && categories.includes(filterValue)) {
                                card.style.display = 'flex';
                            } else {
                                card.style.display = 'none';
                            }
                        }
                    });
                });
            });
            
            // Обработчики для кнопок "Подробнее"
            document.querySelectorAll('.btn-details').forEach(button => {
                button.addEventListener('click', function() {
                    const modalId = this.getAttribute('data-modal');
                    openModal(modalId);
                });
            });
            
            // Обработчики для закрытия модальных окон
            document.querySelectorAll('.close-modal, .close-modal-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const modal = this.closest('.project-modal');
                    if (modal) {
                        closeModal(modal.id);
                    }
                });
            });
            
            // Закрытие модального окна при клике вне его
            document.querySelectorAll('.project-modal').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        closeModal(this.id);
                    }
                });
            });
            
            // Закрытие модального окна клавишей ESC
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && currentModal) {
                    closeModal(currentModal);
                }
            });
            
            // Защита изображений
            document.addEventListener('contextmenu', function(e) {
                if (e.target.closest('.gallery-container') || e.target.closest('.protected-image')) {
                    e.preventDefault();
                    showToast('Копирование изображений запрещено', 'warning');
                }
            });
            
            document.addEventListener('dragstart', function(e) {
                if (e.target.closest('.gallery-container') || e.target.closest('.protected-image')) {
                    e.preventDefault();
                    return false;
                }
            });
            
            // Блокировка клавиш PrintScreen
            document.addEventListener('keydown', function(e) {
                if ((e.key === 'PrintScreen' || (e.ctrlKey && e.key === 'p')) && currentModal) {
                    e.preventDefault();
                    showToast('Скриншоты защищены', 'warning');
                }
            });
            
            // Инициализация мобильного меню
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            if (mobileMenuBtn) {
                mobileMenuBtn.addEventListener('click', function() {
                    const nav = document.querySelector('.main-nav');
                    if (nav) {
                        nav.classList.toggle('active');
                    }
                });
            }
        });
    </script>
</body>
</html>