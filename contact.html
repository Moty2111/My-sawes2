<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>BuildCraft - Контакты</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/mobile.css" media="screen and (max-width: 768px)">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&family=Open+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- MapLibre GL CSS -->
    <link rel="stylesheet" href="https://unpkg.com/maplibre-gl@^5.0.1/dist/maplibre-gl.css" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <style>
        #map {
            height: 400px;
            width: 100%;
            border-radius: 8px;
            z-index: 1;
        }
        .map-container {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .map-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 20px;
            border-top: 1px solid #eee;
            z-index: 1000;
            pointer-events: none;
        }
        .map-overlay h4 {
            margin: 0 0 8px 0;
            color: #2c3e50;
            font-size: 16px;
        }
        .map-overlay p {
            margin: 0;
            font-size: 14px;
            color: #666;
            line-height: 1.4;
        }
        .map-overlay i {
            color: #e74c3c;
            margin-right: 8px;
        }
        
        .maplibregl-ctrl-group {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .maplibregl-ctrl-group button {
            width: 30px;
            height: 30px;
        }
        
        .maplibregl-popup {
            max-width: 250px;
            font-family: 'Open Sans', sans-serif;
        }
        .maplibregl-popup-content {
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.15);
        }
        .maplibregl-popup-content h4 {
            margin: 0 0 8px 0;
            color: #e74c3c;
            font-size: 16px;
        }
        .maplibregl-popup-content p {
            margin: 0 0 5px 0;
            font-size: 14px;
            line-height: 1.4;
        }
        .maplibregl-popup-close-button {
            font-size: 18px;
            padding: 5px 8px;
        }
        
        @media screen and (max-width: 768px) {
            #map {
                height: 300px;
            }
            .map-overlay {
                padding: 10px 15px;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo-container">
                    <a href="index.html" class="logo">
                        <div class="logo-icon">
                            <i class="fas fa-hard-hat"></i>
                        </div>
                        <span class="logo-text">Build<span class="logo-highlight">Craft</span></span>
                    </a>
                </div>
                
                <div class="header-actions">
                    <nav class="main-nav">
                        <ul class="nav-list">
                            <li><a href="index.html" class="nav-link"><i class="fas fa-home"></i> <span>Главная</span></a></li>
                            <li><a href="about.html" class="nav-link"><i class="fas fa-info-circle"></i> <span>О нас</span></a></li>
                            <li><a href="catalog.html" class="nav-link"><i class="fas fa-th-list"></i> <span>Каталог</span></a></li>
                            <li><a href="services.html" class="nav-link"><i class="fas fa-tools"></i> <span>Услуги</span></a></li>
                            <li><a href="contact.html" class="nav-link active"><i class="fas fa-address-book"></i> <span>Контакты</span></a></li>
                            <li><a href="projects.html" class="nav-link"><i class="fas fa-project-diagram"></i> <span>Наши проекты</span></a></li>
                            <li><a href="account.html" class="nav-link"><i class="fas fa-user-circle"></i> <span>Аккаунт</span></a></li>
                        </ul>
                    </nav>
                    
                    <a href="cart.html" class="cart-link">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-text">Корзина</span>
                        <span class="cart-count" id="cartCount">0</span>
                    </a>
                    
                    <button class="mobile-menu-btn" id="mobileMenuBtn">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="container">
            <div class="contact-header">
                <h2 class="section-title">Контакты</h2>
                <p class="section-subtitle">Свяжитесь с нами любым удобным способом</p>
            </div>
            
            <div class="contact-content">
                <div class="contact-info">
                    <div class="contact-card">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Наш адрес</h3>
                            <p>454081, Челябинская обл, г Челябинск, Тракторозаводский р-н, ул Артиллерийская, д 106, кв 77</p>
                        </div>
                    </div>
                    
                    <div class="contact-card">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Телефоны</h3>
                            <p>+7 (912) 897-73-29</p>
                            <p>+7 (912) 329-73-78</p>
                        </div>
                    </div>
                    
                    <div class="contact-card">
                        <div class="contact-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Часы работы</h3>
                            <p>Пн-Пт: 10:00 - 17:00</p>
                            <p>Сб-Вс: Выходной</p>
                        </div>
                    </div>
                    
                    <div class="contact-card">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Электронная почта</h3>
                            <p>89128977329@mail.ru</p>
                        </div>
                    </div>
                </div>
                
                <div class="contact-map">
                    <div class="map-container">
                        <div id="map"></div>
                        <div class="map-overlay">
                            <h4><i class="fas fa-map-marker-alt"></i> BuildCraft Магазин</h4>
                            <p>454081, Челябинская обл, г Челябинск, Тракторозаводский р-н, ул Артиллерийская, д 106, кв 77</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="callback-form">
                <div class="form-header">
                    <h3>Заказать обратный звонок</h3>
                    <p>Заполните форму и наш менеджер свяжется с вами в течение рабочего дня</p>
                </div>
                <form id="callbackForm">
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" placeholder="Ваше имя" required>
                        </div>
                        <div class="form-group">
                            <input type="tel" placeholder="Телефон" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <textarea placeholder="Ваш вопрос или комментарий" rows="4"></textarea>
                    </div>
                    <div class="form-footer">
                        <div class="form-agreement">
                            <input type="checkbox" id="agreement" required>
                            <label for="agreement">Согласен с политикой конфиденциальности</label>
                        </div>
                        <button type="submit" class="btn btn-primary">Заказать звонок</button>
                    </div>
                </form>
            </div>
            
            <div class="contact-faq">
                <h3 class="section-title">Часто задаваемые вопросы</h3>
                <div class="faq-list">
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>Какова стоимость доставки?</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p>Доставка осуществляется по индивидуальному расчету в зависимости от объема и места доставки. Свяжитесь с нами для уточнения стоимости.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>Есть ли у вас самовывоз?</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p>Да, вы можете забрать заказ по нашему адресу в Челябинске в рабочее время (Пн-Пт с 10:00 до 17:00).</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>Какие гарантии вы предоставляете?</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p>Мы предоставляем гарантию на все строительные материалы в соответствии с законодательством РФ и гарантиями производителей.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-top">
                <div class="footer-logo">
                    <div class="logo">
                        <div class="logo-icon">
                            <i class="fas fa-hard-hat"></i>
                        </div>
                        <span class="logo-text">Build<span class="logo-highlight">Craft</span></span>
                    </div>
                    <p class="footer-tagline">Ваш надежный партнер в строительстве с 2010 года</p>
                    <div class="footer-social">
                        <h4>Мы в социальных сетях</h4>
                        <div class="social-icons">
                            <a href="#" class="social-icon vk"><i class="fab fa-vk"></i></a>
                            <a href="#" class="social-icon telegram"><i class="fab fa-telegram"></i></a>
                            <a href="#" class="social-icon instagram"><i class="fab fa-instagram"></i></a>
                            <a href="#" class="social-icon youtube"><i class="fab fa-youtube"></i></a>
                            <a href="#" class="social-icon whatsapp"><i class="fab fa-whatsapp"></i></a>
                        </div>
                    </div>
                </div>
                
                <div class="footer-links">
                    <div class="links-column">
                        <h4>Каталог</h4>
                        <ul>
                            <li><a href="catalog.html">Строительные материалы</a></li>
                            <li><a href="catalog.html">Инструменты</a></li>
                            <li><a href="catalog.html">Отделочные материалы</a></li>
                            <li><a href="catalog.html">Сантехника</a></li>
                            <li><a href="catalog.html">Электрика</a></li>
                            <li><a href="catalog.html">Сад и участок</a></li>
                        </ul>
                    </div>
                    
                    <div class="links-column">
                        <h4>Компания</h4>
                        <ul>
                            <li><a href="about.html">О нас</a></li>
                            <li><a href="services.html">Услуги</a></li>
                            <li><a href="contact.html">Контакты</a></li>
                            <li><a href="services.html">Доставка и оплата</a></li>
                            <li><a href="services.html">Гарантия и возврат</a></li>
                        </ul>
                    </div>
                    
                    <div class="links-column">
                        <h4>Полезное</h4>
                        <ul>
                            <li><a href="#">Блог о строительстве</a></li>
                            <li><a href="#">Калькулятор материалов</a></li>
                            <li><a href="#">Советы по ремонту</a></li>
                            <li><a href="#">Для подрядчиков</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="footer-newsletter">
                    <h4>Подпишитесь на рассылку</h4>
                    <p>Узнавайте первыми о скидках, акциях и новых поступлениях товаров</p>
                    <form class="newsletter-form" id="newsletterForm">
                        <div class="newsletter-input">
                            <input type="email" placeholder="Ваш email" required>
                            <button type="submit" class="btn btn-primary"><i class="fas fa-paper-plane"></i></button>
                        </div>
                    </form>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="payment-methods">
                    <h4>Принимаем к оплате:</h4>
                    <div class="payment-icons">
                        <i class="fab fa-cc-visa"></i>
                        <i class="fab fa-cc-mastercard"></i>
                        <i class="fab fa-cc-mir"></i>
                    </div>
                </div>
                
                <div class="footer-info">
                    <p>&copy; 2010-2023 BuildCraft. Все права защищены.</p>
                    <p><a href="#">Политика конфиденциальности</a> | <a href="#">Пользовательское соглашение</a></p>
                </div>
            </div>
        </div>
    </footer>

    <!-- MapLibre GL JS -->
    <script src="https://unpkg.com/maplibre-gl@^5.0.1/dist/maplibre-gl.js"></script>
    
    <script src="js/script.js"></script>
    <script src="js/mobile.js"></script>
    
    <script>
        // Инициализация карты после загрузки страницы
        document.addEventListener('DOMContentLoaded', function() {
            // Точные координаты для маркера: 55.175221, 61.429808
            // MapLibre GL использует формат [долгота, широта]
            const exactCoords = [61.429808, 55.175221];
            
            // Проверка доступности MapLibre
            if (typeof maplibregl === 'undefined') {
                console.error('MapLibre GL не загружен. Проверьте подключение к сети или CDN.');
                document.getElementById('map').innerHTML = 
                    '<div style="padding: 20px; text-align: center; color: #666;">' +
                    '<i class="fas fa-map-marked-alt" style="font-size: 48px; margin-bottom: 15px;"></i>' +
                    '<p>Карта временно недоступна. Мы работаем над устранением проблемы.</p>' +
                    '</div>';
                return;
            }
            
            try {
                // Создание карты с центром в указанных координатах
                const map = new maplibregl.Map({
                    container: 'map',
                    style: 'https://tiles.stadiamaps.com/styles/alidade_smooth.json',
                    center: exactCoords,
                    zoom: 16, // Увеличенный зум для точного позиционирования
                    attributionControl: true
                });
                
                // Добавление элементов управления
                map.addControl(new maplibregl.NavigationControl(), 'top-right');
                map.addControl(new maplibregl.ScaleControl({
                    maxWidth: 200,
                    unit: 'metric'
                }));
                
                // Добавление маркера после загрузки карты
                map.once('load', function() {
                    // Создание маркера с попапом по точным координатам
                    const marker = new maplibregl.Marker({
                        color: '#e74c3c',
                        draggable: false
                    })
                    .setLngLat(exactCoords)
                    .setPopup(new maplibregl.Popup({
                        offset: 25,
                        closeButton: true,
                        closeOnClick: false
                    }).setHTML(
                        '<h4><i class="fas fa-hard-hat"></i> BuildCraft</h4>' +
                        '<p><strong>Точное местоположение:</strong></p>' +
                        '<p><i class="fas fa-home"></i> ул. Артиллерийская, д. 106, кв 77</p>' +
                        '<p>Челябинск, Тракторозаводский район</p>' +
                        '<hr style="margin: 10px 0;">' +
                        '<p><i class="fas fa-clock"></i> <strong>Часы работы:</strong><br>Пн-Пт: 10:00-17:00</p>' +
                        '<p><i class="fas fa-phone"></i> <strong>Телефон:</strong><br>+7 (912) 897-73-29</p>'
                    ))
                    .addTo(map);
                    
                    // Автоматическое открытие попапа при загрузке
                    marker.togglePopup();
                    
                    // Адаптация карты при изменении размера окна
                    window.addEventListener('resize', function() {
                        map.resize();
                    });
                    
                    // Логирование координат для отладки
                    console.log('Маркер установлен по координатам:', exactCoords);
                    console.log('Широта (latitude): 55.175221');
                    console.log('Долгота (longitude): 61.429808');
                });
                
                // Обработка ошибок загрузки карты
                map.on('error', function(e) {
                    console.error('Ошибка загрузки карты:', e.error);
                });
                
                // Добавляем обработчик клика по карте для отображения координат (для отладки)
                map.on('click', function(e) {
                    console.log('Клик по карте - координаты:', e.lngLat);
                });
                
            } catch (error) {
                console.error('Ошибка инициализации карты:', error);
                document.getElementById('map').innerHTML = 
                    '<div style="padding: 20px; text-align: center; color: #666;">' +
                    '<i class="fas fa-exclamation-triangle" style="font-size: 48px; margin-bottom: 15px; color: #e74c3c;"></i>' +
                    '<p>Не удалось загрузить карту. Пожалуйста, попробуйте обновить страницу.</p>' +
                    '</div>';
            }
        });
    </script>
</body>
</html>